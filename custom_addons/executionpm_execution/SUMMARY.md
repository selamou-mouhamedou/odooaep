# Execution PM - Progress Execution Module Summary

**Module Name:** `executionpm_execution`  
**Version:** 18.0.1.0.0  
**Created:** January 20, 2026  
**License:** LGPL-3

---

## ğŸ“‹ Overview

This module enables contractors to declare execution progress per task with mandatory proof attachments. Progress declarations go through a multi-step validation workflow before impacting project KPIs.

---

## ğŸ“ File Structure

```
executionpm_execution/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ __manifest__.py
â”œâ”€â”€ SUMMARY.md
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ execution_progress.py         # Main progress declaration model
â”‚   â””â”€â”€ execution_planning_task.py    # Task extension for actual progress
â”œâ”€â”€ security/
â”‚   â”œâ”€â”€ executionpm_execution_security.xml
â”‚   â””â”€â”€ ir.model.access.csv
â””â”€â”€ views/
    â”œâ”€â”€ execution_progress_views.xml
    â”œâ”€â”€ execution_planning_task_views.xml
    â””â”€â”€ menu_views.xml
```

---

## ğŸ—ƒï¸ Models

### `execution.progress`
Progress declaration submitted by contractors.

| Field | Type | Description |
|-------|------|-------------|
| `name` | Char | Auto-generated reference (PROG/00001) |
| `task_id` | Many2one | Linked planning task |
| `declared_percentage` | Float | Cumulative progress declared |
| `previous_percentage` | Float | Last validated progress (computed) |
| `incremental_percentage` | Float | Progress increment (computed) |
| `quantity_executed` | Float | Physical quantity completed |
| `execution_date` | Date | Date of execution |
| `comment` | Text | Required description of work |
| `attachment_ids` | Many2many | Proof documents (MANDATORY) |
| `state` | Selection | Workflow state |

### `execution.planning.task` (Extended)
Added fields to track actual progress.

| Field | Type | Description |
|-------|------|-------------|
| `actual_progress` | Float | Current validated progress % |
| `progress_declaration_ids` | One2many | All declarations for this task |
| `progress_status` | Selection | `not_started` / `in_progress` / `completed` |

---

## ğŸš¦ Workflow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Draft  â”‚â”€â”€â”€â–¶â”‚ Submitted â”‚â”€â”€â”€â–¶â”‚ Under Review â”‚â”€â”€â”€â–¶â”‚ Validated â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚                  â”‚
                     â”‚                  â–¼
                     â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ Rejected â”‚
                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### State Descriptions

1. **Draft**: Contractor prepares declaration
2. **Submitted**: Sent for review (requires attachments)
3. **Under Review**: Validator is reviewing
4. **Validated**: Progress accepted, task KPI updated
5. **Rejected**: Sent back with reason for corrections

---

## ğŸ” Business Rules

1. **Mandatory Attachments**: Cannot submit without at least one proof document
2. **Progressive Percentage**: Declared % cannot be less than previous validated %
3. **KPI Impact**: Only validated declarations update task's `actual_progress`
4. **Edit Lock**: Validated records cannot be modified (except by superuser)
5. **Own Declarations**: Users can only edit their own draft/rejected declarations

---

## ğŸ”’ Security

| Group | Permissions |
|-------|-------------|
| **Execution User** | Create/Edit own declarations, Read all |
| **Execution Validator** | Review, Validate, Reject any declaration |
| **Execution Manager** | Full access including delete |

---

## ğŸš€ Usage Flow

1. **Contractor** opens a task from approved planning
2. Creates new **Progress Declaration**
3. Fills in: % completed, quantity, date, description
4. Uploads **proof documents** (photos, delivery notes, etc.)
5. Clicks **"Submit for Review"**
6. **Validator** receives notification / sees in "To Review" queue
7. Validator clicks **"Start Review"** â†’ **"Validate"** or **"Reject"**
8. On validation: Task's `actual_progress` is updated automatically

---

*Generated by Execution PM v18.0.1.0.0*
